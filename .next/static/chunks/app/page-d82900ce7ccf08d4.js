(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2453:(e,t,n)=>{Promise.resolve().then(n.bind(n,6971))},6971:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>O});var i=n(5155),a=n(2115),l=n(3320),s=n(5164),r=n(1354),o=n(2472);let c=e=>{let{user:t,onLogout:n}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("aside",{className:"hidden md:flex group fixed left-0 top-0 h-screen bg-[#050505] border-r border-zinc-900/50 z-50 w-16 hover:w-64 transition-[width] duration-500 ease-[cubic-bezier(0.32,0.72,0,1)] overflow-hidden shadow-2xl shadow-black flex-col",children:(0,i.jsxs)("div",{className:"flex flex-col h-full py-6 px-0",children:[(0,i.jsxs)("div",{className:"flex items-center px-5 mb-8 min-w-[16rem]",children:[(0,i.jsx)("div",{className:"w-6 h-6 flex-shrink-0 flex items-center justify-center text-white",children:(0,i.jsx)(l.A,{className:"w-5 h-5"})}),(0,i.jsx)("span",{className:"ml-4 font-semibold text-sm tracking-tight text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap delay-75",children:"AdityaMarker"})]}),(0,i.jsx)("nav",{className:"flex flex-col gap-2 flex-1 px-3",children:(0,i.jsx)(d,{icon:s.A,label:"Dashboard",active:!0})}),(0,i.jsxs)("div",{className:"flex flex-col gap-2 px-3 mt-auto pb-6 border-t border-zinc-900/50 pt-4",children:[(0,i.jsxs)("button",{onClick:n,className:"flex items-center p-3 text-zinc-500 hover:text-red-400 rounded-xl transition-colors min-w-max hover:bg-red-950/10 group/btn",title:"Sign out",children:[(0,i.jsx)(r.A,{className:"w-5 h-5 flex-shrink-0 transition-transform group-hover/btn:scale-110"}),(0,i.jsx)("span",{className:"ml-4 text-xs font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap delay-75",children:"Sign Out"})]}),(0,i.jsxs)("div",{className:"flex items-center p-2 mt-2 rounded-xl bg-zinc-900/30 border border-zinc-800/50 min-w-max",children:[(0,i.jsx)("div",{className:"w-8 h-8 rounded-full overflow-hidden flex-shrink-0 ring-1 ring-zinc-800",children:t.avatar?(0,i.jsx)("img",{src:t.avatar,alt:"User",className:"w-full h-full object-cover"}):(0,i.jsx)("div",{className:"w-full h-full bg-zinc-800 flex items-center justify-center",children:(0,i.jsx)(o.A,{className:"w-4 h-4 text-zinc-500"})})}),(0,i.jsxs)("div",{className:"ml-3 flex flex-col opacity-0 group-hover:opacity-100 transition-opacity duration-300 delay-75",children:[(0,i.jsx)("span",{className:"text-xs text-zinc-200 font-medium truncate max-w-[140px]",children:t.name}),(0,i.jsx)("span",{className:"text-[10px] text-zinc-500 truncate max-w-[140px]",children:t.email})]})]})]})]})}),(0,i.jsxs)("div",{className:"md:hidden fixed top-0 left-0 right-0 h-16 bg-[#050505]/90 backdrop-blur-xl border-b border-zinc-800 z-40 flex items-center justify-between px-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("div",{className:"w-8 h-8 bg-zinc-900 border border-zinc-800 rounded-lg flex items-center justify-center",children:(0,i.jsx)(l.A,{className:"w-4 h-4 text-white"})}),(0,i.jsx)("span",{className:"font-semibold text-white tracking-tight text-sm",children:"AdityaMarker"})]}),(0,i.jsx)("div",{className:"w-8 h-8 rounded-full overflow-hidden ring-1 ring-zinc-800 bg-zinc-900",children:t.avatar?(0,i.jsx)("img",{src:t.avatar,alt:"User",className:"w-full h-full object-cover"}):(0,i.jsx)("div",{className:"w-full h-full bg-zinc-800 flex items-center justify-center",children:(0,i.jsx)(o.A,{className:"w-4 h-4 text-zinc-500"})})})]}),(0,i.jsxs)("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 h-16 bg-[#050505]/95 backdrop-blur-xl border-t border-zinc-800 z-40 flex items-center justify-around px-2 pb-1",children:[(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center w-16 h-full gap-1 text-white",children:[(0,i.jsx)(s.A,{className:"w-5 h-5"}),(0,i.jsx)("span",{className:"text-[10px] font-medium opacity-80",children:"Home"})]}),(0,i.jsx)("div",{className:"w-px h-8 bg-zinc-800/50"}),(0,i.jsxs)("button",{onClick:n,className:"flex flex-col items-center justify-center w-16 h-full gap-1 text-zinc-500 active:text-red-400 transition-colors",children:[(0,i.jsx)(r.A,{className:"w-5 h-5"}),(0,i.jsx)("span",{className:"text-[10px] font-medium opacity-80",children:"Sign Out"})]})]})]})},d=e=>{let{icon:t,label:n,active:a=!1}=e;return(0,i.jsxs)("button",{className:"flex items-center p-3 rounded-xl transition-all duration-200 min-w-max group/item ".concat(a?"bg-zinc-900 text-white shadow-inner border border-zinc-800":"text-zinc-500 hover:text-white hover:bg-zinc-900/50"),children:[(0,i.jsx)(t,{className:"w-5 h-5 flex-shrink-0 transition-transform group-hover/item:scale-110 ".concat(a?"text-white":"")}),(0,i.jsx)("span",{className:"ml-4 text-xs font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap delay-75 tracking-wide",children:n})]})};var m=n(1068),x=n(2604),u=n(2783),h=n(689),f=n(6758),p=n(4131);let v="https://bauhstofdbyyjodclkcv.supabase.co",b=(0,p.UU)(v,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJhdWhzdG9mZGJ5eWpvZGNsa2N2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEzMzY4NDAsImV4cCI6MjA4NjkxMjg0MH0.K1NtRDIcYPKFD26-aEKzZqiCgOIZexHBFzRjw_VNrZQ");var g=n(9124),w=n(5683),j=n(337),y=n(7274);function N(e){let{linesGradient:t,enabledWaves:n=["top","middle","bottom"],lineCount:l=[6],lineDistance:s=[5],topWavePosition:r,middleWavePosition:o,bottomWavePosition:c={x:2,y:-.7,rotate:-1},animationSpeed:d=1,interactive:m=!0,bendRadius:x=5,bendStrength:u=-.5,mouseDamping:h=.05,parallax:f=!0,parallaxStrength:p=.2,mixBlendMode:v="screen"}=e,b=(0,a.useRef)(null),g=(0,a.useRef)(new j.I9Y(-1e3,-1e3)),w=(0,a.useRef)(new j.I9Y(-1e3,-1e3)),N=(0,a.useRef)(0),z=(0,a.useRef)(0),k=(0,a.useRef)(new j.I9Y(0,0)),C=(0,a.useRef)(new j.I9Y(0,0)),P=e=>{var t;return"number"==typeof l?l:n.includes(e)?null!==(t=l[n.indexOf(e)])&&void 0!==t?t:6:0},S=e=>{var t;return"number"==typeof s?s:n.includes(e)&&null!==(t=s[n.indexOf(e)])&&void 0!==t?t:.1},L=n.includes("top")?P("top"):0,A=n.includes("middle")?P("middle"):0,E=n.includes("bottom")?P("bottom"):0,U=n.includes("top")?.01*S("top"):.01,I=n.includes("middle")?.01*S("middle"):.01,_=n.includes("bottom")?.01*S("bottom"):.01;return(0,a.useEffect)(()=>{var e,i,a,l,s,v,P,S,R;if(!b.current)return;let G=new j.Z58,O=new j.qUd(-1,1,1,-1,0,1);O.position.z=1;let T=new y.JeP({antialias:!0,alpha:!1});T.setPixelRatio(Math.min(window.devicePixelRatio||1,2)),T.domElement.style.width="100%",T.domElement.style.height="100%",b.current.appendChild(T.domElement);let D={iTime:{value:0},iResolution:{value:new j.Pq0(1,1,1)},animationSpeed:{value:d},enableTop:{value:n.includes("top")},enableMiddle:{value:n.includes("middle")},enableBottom:{value:n.includes("bottom")},topLineCount:{value:L},middleLineCount:{value:A},bottomLineCount:{value:E},topLineDistance:{value:U},middleLineDistance:{value:I},bottomLineDistance:{value:_},topWavePosition:{value:new j.Pq0(null!==(e=null==r?void 0:r.x)&&void 0!==e?e:10,null!==(i=null==r?void 0:r.y)&&void 0!==i?i:.5,null!==(a=null==r?void 0:r.rotate)&&void 0!==a?a:-.4)},middleWavePosition:{value:new j.Pq0(null!==(l=null==o?void 0:o.x)&&void 0!==l?l:5,null!==(s=null==o?void 0:o.y)&&void 0!==s?s:0,null!==(v=null==o?void 0:o.rotate)&&void 0!==v?v:.2)},bottomWavePosition:{value:new j.Pq0(null!==(P=null==c?void 0:c.x)&&void 0!==P?P:2,null!==(S=null==c?void 0:c.y)&&void 0!==S?S:-.7,null!==(R=null==c?void 0:c.rotate)&&void 0!==R?R:.4)},iMouse:{value:new j.I9Y(-1e3,-1e3)},interactive:{value:m},bendRadius:{value:x},bendStrength:{value:u},bendInfluence:{value:0},parallax:{value:f},parallaxStrength:{value:p},parallaxOffset:{value:new j.I9Y(0,0)},lineGradient:{value:Array.from({length:8},()=>new j.Pq0(1,1,1))},lineGradientCount:{value:0}};if(t&&t.length>0){let e=t.slice(0,8);D.lineGradientCount.value=e.length,e.forEach((e,t)=>{let n,i,a,l;let s=((n=e.trim()).startsWith("#")&&(n=n.slice(1)),i=255,a=255,l=255,3===n.length?(i=parseInt(n[0]+n[0],16),a=parseInt(n[1]+n[1],16),l=parseInt(n[2]+n[2],16)):6===n.length&&(i=parseInt(n.slice(0,2),16),a=parseInt(n.slice(2,4),16),l=parseInt(n.slice(4,6),16)),new j.Pq0(i/255,a/255,l/255));D.lineGradient.value[t].set(s.x,s.y,s.z)})}let M=new j.BKk({uniforms:D,vertexShader:"\nprecision highp float;\n\nvoid main() {\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",fragmentShader:"\nprecision highp float;\n\nuniform float iTime;\nuniform vec3  iResolution;\nuniform float animationSpeed;\n\nuniform bool enableTop;\nuniform bool enableMiddle;\nuniform bool enableBottom;\n\nuniform int topLineCount;\nuniform int middleLineCount;\nuniform int bottomLineCount;\n\nuniform float topLineDistance;\nuniform float middleLineDistance;\nuniform float bottomLineDistance;\n\nuniform vec3 topWavePosition;\nuniform vec3 middleWavePosition;\nuniform vec3 bottomWavePosition;\n\nuniform vec2 iMouse;\nuniform bool interactive;\nuniform float bendRadius;\nuniform float bendStrength;\nuniform float bendInfluence;\n\nuniform bool parallax;\nuniform float parallaxStrength;\nuniform vec2 parallaxOffset;\n\nuniform vec3 lineGradient[8];\nuniform int lineGradientCount;\n\nconst vec3 BLACK = vec3(0.0);\nconst vec3 PINK  = vec3(233.0, 71.0, 245.0) / 255.0;\nconst vec3 BLUE  = vec3(47.0,  75.0, 162.0) / 255.0;\n\nmat2 rotate(float r) {\n  return mat2(cos(r), sin(r), -sin(r), cos(r));\n}\n\nvec3 background_color(vec2 uv) {\n  vec3 col = vec3(0.0);\n\n  float y = sin(uv.x - 0.2) * 0.3 - 0.1;\n  float m = uv.y - y;\n\n  col += mix(BLUE, BLACK, smoothstep(0.0, 1.0, abs(m)));\n  col += mix(PINK, BLACK, smoothstep(0.0, 1.0, abs(m - 0.8)));\n  return col * 0.5;\n}\n\nvec3 getLineColor(float t, vec3 baseColor) {\n  if (lineGradientCount <= 0) {\n    return baseColor;\n  }\n\n  vec3 gradientColor;\n  \n  if (lineGradientCount == 1) {\n    gradientColor = lineGradient[0];\n  } else {\n    float clampedT = clamp(t, 0.0, 0.9999);\n    float scaled = clampedT * float(lineGradientCount - 1);\n    int idx = int(floor(scaled));\n    float f = fract(scaled);\n    int idx2 = min(idx + 1, lineGradientCount - 1);\n\n    vec3 c1 = lineGradient[idx];\n    vec3 c2 = lineGradient[idx2];\n    \n    gradientColor = mix(c1, c2, f);\n  }\n  \n  return gradientColor * 0.5;\n}\n\n  float wave(vec2 uv, float offset, vec2 screenUv, vec2 mouseUv, bool shouldBend) {\n  float time = iTime * animationSpeed;\n\n  float x_offset   = offset;\n  float x_movement = time * 0.1;\n  float amp        = sin(offset + time * 0.2) * 0.3;\n  float y          = sin(uv.x + x_offset + x_movement) * amp;\n\n  if (shouldBend) {\n    vec2 d = screenUv - mouseUv;\n    float influence = exp(-dot(d, d) * bendRadius); // radial falloff around cursor\n    float bendOffset = (mouseUv.y - screenUv.y) * influence * bendStrength * bendInfluence;\n    y += bendOffset;\n  }\n\n  float m = uv.y - y;\n  return 0.0175 / max(abs(m) + 0.01, 1e-3) + 0.01;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n  vec2 baseUv = (2.0 * fragCoord - iResolution.xy) / iResolution.y;\n  baseUv.y *= -1.0;\n  \n  if (parallax) {\n    baseUv += parallaxOffset;\n  }\n\n  vec3 col = vec3(0.0);\n\n  vec3 b = lineGradientCount > 0 ? vec3(0.0) : background_color(baseUv);\n\n  vec2 mouseUv = vec2(0.0);\n  if (interactive) {\n    mouseUv = (2.0 * iMouse - iResolution.xy) / iResolution.y;\n    mouseUv.y *= -1.0;\n  }\n  \n  if (enableBottom) {\n    for (int i = 0; i < bottomLineCount; ++i) {\n      float fi = float(i);\n      float t = fi / max(float(bottomLineCount - 1), 1.0);\n      vec3 lineCol = getLineColor(t, b);\n      \n      float angle = bottomWavePosition.z * log(length(baseUv) + 1.0);\n      vec2 ruv = baseUv * rotate(angle);\n      col += lineCol * wave(\n        ruv + vec2(bottomLineDistance * fi + bottomWavePosition.x, bottomWavePosition.y),\n        1.5 + 0.2 * fi,\n        baseUv,\n        mouseUv,\n        interactive\n      ) * 0.2;\n    }\n  }\n\n  if (enableMiddle) {\n    for (int i = 0; i < middleLineCount; ++i) {\n      float fi = float(i);\n      float t = fi / max(float(middleLineCount - 1), 1.0);\n      vec3 lineCol = getLineColor(t, b);\n      \n      float angle = middleWavePosition.z * log(length(baseUv) + 1.0);\n      vec2 ruv = baseUv * rotate(angle);\n      col += lineCol * wave(\n        ruv + vec2(middleLineDistance * fi + middleWavePosition.x, middleWavePosition.y),\n        2.0 + 0.15 * fi,\n        baseUv,\n        mouseUv,\n        interactive\n      );\n    }\n  }\n\n  if (enableTop) {\n    for (int i = 0; i < topLineCount; ++i) {\n      float fi = float(i);\n      float t = fi / max(float(topLineCount - 1), 1.0);\n      vec3 lineCol = getLineColor(t, b);\n      \n      float angle = topWavePosition.z * log(length(baseUv) + 1.0);\n      vec2 ruv = baseUv * rotate(angle);\n      ruv.x *= -1.0;\n      col += lineCol * wave(\n        ruv + vec2(topLineDistance * fi + topWavePosition.x, topWavePosition.y),\n        1.0 + 0.2 * fi,\n        baseUv,\n        mouseUv,\n        interactive\n      ) * 0.1;\n    }\n  }\n\n  fragColor = vec4(col, 1.0);\n}\n\nvoid main() {\n  vec4 color = vec4(0.0);\n  mainImage(color, gl_FragCoord.xy);\n  gl_FragColor = color;\n}\n"}),W=new j.bdM(2,2),B=new j.eaF(W,M);G.add(B);let F=new j.zD7,q=()=>{let e=b.current;if(!e)return;let t=e.clientWidth||1,n=e.clientHeight||1;T.setSize(t,n,!1);let i=T.domElement.width,a=T.domElement.height;D.iResolution.value.set(i,a,1)};q();let Y="undefined"!=typeof ResizeObserver?new ResizeObserver(q):null;Y&&b.current&&Y.observe(b.current);let H=e=>{let t=T.domElement.getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top,a=T.getPixelRatio();if(g.current.set(n*a,(t.height-i)*a),N.current=1,f){let e=t.width/2,a=t.height/2,l=(n-e)/t.width,s=-(i-a)/t.height;k.current.set(l*p,s*p)}},J=()=>{N.current=0};m&&(T.domElement.addEventListener("pointermove",H),T.domElement.addEventListener("pointerleave",J));let K=0,Z=()=>{D.iTime.value=F.getElapsedTime(),m&&(w.current.lerp(g.current,h),D.iMouse.value.copy(w.current),z.current+=(N.current-z.current)*h,D.bendInfluence.value=z.current),f&&(C.current.lerp(k.current,h),D.parallaxOffset.value.copy(C.current)),T.render(G,O),K=requestAnimationFrame(Z)};return Z(),()=>{cancelAnimationFrame(K),Y&&b.current&&Y.disconnect(),m&&(T.domElement.removeEventListener("pointermove",H),T.domElement.removeEventListener("pointerleave",J)),W.dispose(),M.dispose(),T.dispose(),T.domElement.parentElement&&T.domElement.parentElement.removeChild(T.domElement)}},[t,n,l,s,r,o,c,d,m,x,u,h,f,p]),(0,i.jsx)("div",{ref:b,className:"w-full h-full relative overflow-hidden floating-lines-container",style:{mixBlendMode:v}})}let z=()=>{let[e,t]=(0,a.useState)(!1),[n,s]=(0,a.useState)(!1),[r,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[p,j]=(0,a.useState)(""),[y,z]=(0,a.useState)(""),[k,C]=(0,a.useState)(!1),[P,S]=(0,a.useState)(!1),[L,A]=(0,a.useState)("");(0,a.useEffect)(()=>{S(window.self!==window.top),A(window.location.href)},[]);let E=async()=>{if(t(!0),j(""),z(""),P){t(!1),j("Google Login cannot run in a Sandbox iframe.");return}try{let{error:e}=await b.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin,queryParams:{access_type:"offline",prompt:"consent"}}});if(e)throw e}catch(e){console.error("Login failed:",e),j(e.message||"Connection failed."),C(!0),t(!1)}},U=async e=>{if(e.preventDefault(),!r||!c){j("Please enter both email and password.");return}t(!0),j(""),z("");try{if(n){let{error:e}=await b.auth.signUp({email:r,password:c});if(e)throw e;z("Account created! Please check your email to verify."),s(!1)}else{let{error:e}=await b.auth.signInWithPassword({email:r,password:c});if(e)throw e}}catch(e){j(e.message)}finally{t(!1)}},I=()=>"".concat(v,"/auth/v1/callback");return(0,i.jsxs)("div",{className:"flex min-h-screen w-full bg-black font-sans selection:bg-indigo-500/30 selection:text-white",children:[(0,i.jsxs)("div",{className:"hidden lg:flex w-1/2 relative bg-[#050505] overflow-hidden flex-col justify-between p-12 border-r border-zinc-900",children:[(0,i.jsxs)("div",{className:"absolute inset-0 z-0",children:[(0,i.jsx)(N,{linesGradient:["#6366f1","#a855f7","#ec4899"],animationSpeed:.5,lineCount:8,parallaxStrength:.1,mixBlendMode:"screen"}),(0,i.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/40 to-transparent"})]}),(0,i.jsxs)("div",{className:"relative z-10 flex items-center gap-3",children:[(0,i.jsx)("div",{className:"w-8 h-8 bg-white/10 backdrop-blur-md rounded-lg flex items-center justify-center border border-white/10 shadow-lg",children:(0,i.jsx)(l.A,{className:"w-4 h-4 text-white"})}),(0,i.jsx)("span",{className:"text-white font-medium tracking-tight text-lg",children:"AdityaMarker"})]}),(0,i.jsx)("div",{className:"relative z-10 max-w-lg",children:(0,i.jsxs)("blockquote",{className:"space-y-4",children:[(0,i.jsx)("p",{className:"text-2xl font-medium leading-snug text-white",children:'"The most seamless way to organize, share, and discover your digital world."'}),(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("div",{className:"w-8 h-8 rounded-full bg-zinc-800 border border-zinc-700"}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("span",{className:"text-sm text-white font-medium",children:"Alex Chen"}),(0,i.jsx)("span",{className:"text-xs text-zinc-500",children:"Product Designer"})]})]})]})})]}),(0,i.jsx)("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-black",children:(0,i.jsxs)(g.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"w-full max-w-[320px] flex flex-col",children:[(0,i.jsxs)("div",{className:"lg:hidden mb-10 self-center relative group",children:[(0,i.jsx)("div",{className:"absolute inset-0 bg-indigo-500 blur-xl opacity-20 group-hover:opacity-40 transition-opacity"}),(0,i.jsx)("div",{className:"relative p-3 bg-zinc-900 border border-zinc-800 rounded-2xl shadow-2xl",children:(0,i.jsx)(l.A,{className:"w-6 h-6 text-white"})})]}),(0,i.jsxs)("div",{className:"mb-8 text-center lg:text-left",children:[(0,i.jsx)("h1",{className:"text-2xl font-semibold text-white mb-2 tracking-tight",children:n?"Create an account":"Welcome back"}),(0,i.jsx)("p",{className:"text-zinc-500 text-sm",children:n?"Enter your details below to create your account":"Enter your credentials to access your workspace."})]}),P&&(0,i.jsx)("div",{className:"w-full mb-6",children:(0,i.jsxs)("div",{className:"bg-amber-950/20 border border-amber-900/30 rounded-lg p-3 flex items-start gap-3 backdrop-blur-sm",children:[(0,i.jsx)(m.A,{className:"w-4 h-4 text-amber-500 flex-shrink-0 mt-0.5"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-zinc-400 text-[10px] leading-relaxed mb-2",children:"Sandbox detected. Open in new tab for Google Auth."}),(0,i.jsxs)("a",{href:L,target:"_blank",rel:"noreferrer",className:"bg-amber-500/10 hover:bg-amber-500/20 text-amber-500 border border-amber-500/50 text-[10px] font-semibold py-1 px-3 rounded inline-flex items-center gap-1 transition-colors",children:[(0,i.jsx)("span",{children:"Open New Tab"}),(0,i.jsx)(x.A,{className:"w-2 h-2"})]})]})]})}),(0,i.jsxs)("div",{className:"w-full space-y-4",children:[(0,i.jsxs)("form",{onSubmit:U,className:"space-y-3",children:[(0,i.jsx)("div",{className:"space-y-1",children:(0,i.jsx)("input",{type:"email",placeholder:"name@example.com",value:r,onChange:e=>o(e.target.value),className:"w-full bg-zinc-900/50 border border-zinc-800 rounded-lg px-3 py-2.5 text-white text-sm placeholder-zinc-500 focus:outline-none focus:border-white/20 focus:bg-zinc-900 transition-all",disabled:e})}),(0,i.jsx)("div",{className:"space-y-1",children:(0,i.jsx)("input",{type:"password",placeholder:"Password",value:c,onChange:e=>d(e.target.value),className:"w-full bg-zinc-900/50 border border-zinc-800 rounded-lg px-3 py-2.5 text-white text-sm placeholder-zinc-500 focus:outline-none focus:border-white/20 focus:bg-zinc-900 transition-all",disabled:e})}),(0,i.jsx)(g.P.button,{whileHover:{scale:1.01},whileTap:{scale:.99},type:"submit",disabled:e,className:"w-full bg-white text-black font-medium py-2.5 rounded-lg hover:bg-zinc-200 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-sm mt-2",children:e?(0,i.jsx)(u.A,{className:"w-4 h-4 animate-spin"}):(0,i.jsx)(i.Fragment,{children:n?"Sign Up with Email":"Sign In with Email"})})]}),(0,i.jsxs)("div",{className:"relative w-full py-2 flex items-center gap-3",children:[(0,i.jsx)("div",{className:"h-px bg-zinc-900 flex-1"}),(0,i.jsx)("span",{className:"text-[10px] text-zinc-600 uppercase tracking-widest font-medium",children:"Or continue with"}),(0,i.jsx)("div",{className:"h-px bg-zinc-900 flex-1"})]}),(0,i.jsx)(g.P.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:E,disabled:e,className:"w-full bg-zinc-900 hover:bg-zinc-800 border border-zinc-800 text-zinc-200 font-medium py-2.5 rounded-lg transition-all duration-200 flex items-center justify-center gap-2 text-sm group ".concat(P?"opacity-50":""),children:e?(0,i.jsx)(u.A,{className:"w-4 h-4 animate-spin"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",className:"w-4 h-4 grayscale group-hover:grayscale-0 transition-all opacity-80",alt:"G"}),(0,i.jsx)("span",{children:"Google"})]})}),(0,i.jsxs)("p",{className:"text-center text-xs text-zinc-500 mt-4",children:[n?"Already have an account? ":"Don't have an account? ",(0,i.jsx)("button",{onClick:()=>{s(!n),j(""),z("")},className:"text-white hover:underline underline-offset-4 font-medium transition-colors",children:n?"Sign In":"Sign Up"})]})]}),p&&(0,i.jsx)(g.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"w-full mt-6",children:(0,i.jsxs)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3 flex items-start gap-2",children:[(0,i.jsx)(m.A,{className:"w-4 h-4 text-red-400 mt-0.5 flex-shrink-0"}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("p",{className:"text-red-400 text-xs font-medium",children:p}),p.includes("Google")&&(0,i.jsx)("button",{onClick:()=>C(!0),className:"mt-2 text-[10px] text-red-300 underline hover:text-red-200",children:"View configuration help"})]})]})}),y&&(0,i.jsx)(g.P.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-6 text-xs text-green-400 bg-green-900/10 p-3 rounded-lg w-full text-center border border-green-900/20",children:y}),(0,i.jsxs)("p",{className:"mt-8 text-center text-[10px] text-zinc-600 px-8 lg:px-0",children:["By clicking continue, you agree to our ",(0,i.jsx)("a",{href:"#",className:"underline hover:text-zinc-500",children:"Terms of Service"})," and ",(0,i.jsx)("a",{href:"#",className:"underline hover:text-zinc-500",children:"Privacy Policy"}),"."]}),(0,i.jsx)(w.N,{children:k&&(0,i.jsx)(g.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:(0,i.jsxs)(g.P.div,{initial:{scale:.95},animate:{scale:1},className:"w-full max-w-sm bg-zinc-950 border border-zinc-800 rounded-xl p-6 shadow-2xl relative",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,i.jsx)("h3",{className:"text-white text-sm font-semibold",children:"Configuration Helper"}),(0,i.jsx)("button",{onClick:()=>C(!1),className:"hover:bg-zinc-900 rounded-md p-1 transition-colors",children:(0,i.jsx)(h.A,{className:"w-4 h-4 text-zinc-500"})})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-[10px] text-zinc-500 mb-1.5 uppercase tracking-wider font-bold",children:"Redirect URL"}),(0,i.jsxs)("div",{className:"bg-black border border-zinc-800 rounded p-2 flex justify-between items-center group",children:[(0,i.jsx)("code",{className:"text-[10px] text-zinc-400 font-mono truncate",children:I()}),(0,i.jsx)("button",{className:"text-zinc-600 hover:text-white transition-colors",onClick:()=>navigator.clipboard.writeText(I()),children:(0,i.jsx)(f.A,{className:"w-3 h-3"})})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-[10px] text-zinc-500 mb-1.5 uppercase tracking-wider font-bold",children:"Site URL"}),(0,i.jsxs)("div",{className:"bg-black border border-zinc-800 rounded p-2 flex justify-between items-center group",children:[(0,i.jsx)("code",{className:"text-[10px] text-zinc-400 font-mono truncate",children:window.location.origin}),(0,i.jsx)("button",{className:"text-zinc-600 hover:text-white transition-colors",onClick:()=>navigator.clipboard.writeText(window.location.origin),children:(0,i.jsx)(f.A,{className:"w-3 h-3"})})]})]})]})]})})})]})})]})};var k=n(5524),C=n(6121),P=n(6848);let S={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.03}}},L={hidden:{opacity:0,scale:.9,filter:"blur(5px)"},show:{opacity:1,scale:1,filter:"blur(0px)",transition:{type:"spring",stiffness:350,damping:25}}},A=e=>{let{bookmarks:t,onDelete:n,viewMode:a}=e;if(0===t.length)return(0,i.jsxs)(g.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-32 text-center",children:[(0,i.jsx)("div",{className:"text-zinc-800 mb-2 font-thin text-4xl select-none",children:"Empty"}),(0,i.jsx)("p",{className:"text-zinc-500 text-sm",children:"Start building your collection."})]});let l=e=>{try{return new URL(e).hostname.replace("www.","")}catch(t){return e}},s=e=>{try{let t=new URL(e).hostname;return"https://www.google.com/s2/favicons?domain=".concat(t,"&sz=128")}catch(e){return""}},r=e=>new Date(e).toLocaleDateString(void 0,{month:"short",day:"numeric"});return"list"===a?(0,i.jsx)(g.P.div,{variants:S,initial:"hidden",animate:"show",className:"flex flex-col w-full space-y-2",children:(0,i.jsx)(w.N,{mode:"popLayout",children:t.map(e=>(0,i.jsxs)(g.P.div,{layout:!0,variants:L,exit:{opacity:0,x:-20,filter:"blur(5px)"},className:"group flex items-center justify-between py-3 px-4 border border-zinc-800/50 hover:border-zinc-700 bg-zinc-900/30 hover:bg-zinc-900/60 transition-all rounded-lg cursor-pointer backdrop-blur-sm",onClick:()=>window.open(e.url,"_blank"),children:[(0,i.jsxs)("div",{className:"flex items-center gap-4 min-w-0 flex-1",children:[(0,i.jsx)("div",{className:"w-8 h-8 rounded-md bg-zinc-950 flex items-center justify-center flex-shrink-0 border border-zinc-800/50 p-1.5 overflow-hidden",children:(0,i.jsx)("img",{src:s(e.url),className:"w-full h-full object-contain opacity-80 group-hover:opacity-100 transition-opacity",alt:"icon",onError:e=>{e.target.style.display="none"}})}),(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-baseline gap-2 min-w-0 flex-1",children:[(0,i.jsx)("span",{className:"text-zinc-200 group-hover:text-white transition-colors font-medium text-sm truncate",children:e.title}),(0,i.jsx)("span",{className:"text-zinc-500 text-xs truncate opacity-70",children:l(e.url)})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-6",children:[(0,i.jsx)("span",{className:"hidden sm:block text-zinc-600 text-xs font-mono",children:r(e.created_at)}),(0,i.jsx)("button",{onClick:t=>{t.stopPropagation(),n(e.id)},className:"text-zinc-500 hover:text-red-400 transition-colors opacity-0 group-hover:opacity-100 p-2 hover:bg-white/5 rounded-md",children:(0,i.jsx)(k.A,{className:"w-4 h-4"})})]})]},e.id))})}):(0,i.jsx)(g.P.div,{variants:S,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 md:gap-6",children:(0,i.jsx)(w.N,{mode:"popLayout",children:t.map(e=>(0,i.jsxs)(g.P.div,{layout:!0,variants:L,exit:{opacity:0,scale:.8,filter:"blur(10px)"},className:"group relative bg-zinc-900/40 hover:bg-zinc-900/80 border border-zinc-800/60 hover:border-zinc-600 rounded-xl p-5 transition-all duration-300 flex flex-col h-44 backdrop-blur-md shadow-lg shadow-black/20",whileHover:{y:-4,boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.3)"},children:[(0,i.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,i.jsx)("div",{className:"w-10 h-10 rounded-lg bg-black/40 flex items-center justify-center text-white border border-white/5 p-2 overflow-hidden shadow-inner",children:(0,i.jsx)("img",{src:s(e.url),className:"w-full h-full object-contain opacity-80 group-hover:opacity-100 transition-opacity grayscale group-hover:grayscale-0",alt:"icon",onError:e=>{e.target.style.display="none"}})}),(0,i.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-zinc-500 group-hover:text-white transition-colors p-2 hover:bg-white/10 rounded-lg",title:"Open Link",children:(0,i.jsx)(C.A,{className:"w-4 h-4"})})]}),(0,i.jsxs)("div",{className:"flex-1 min-h-0",children:[(0,i.jsx)("h3",{className:"text-zinc-200 font-medium text-sm leading-snug mb-1.5 line-clamp-2 group-hover:text-white transition-colors",children:e.title}),(0,i.jsxs)("div",{className:"flex items-center gap-1.5 text-zinc-500 group-hover:text-zinc-400 text-xs transition-colors",children:[(0,i.jsx)(P.A,{className:"w-3 h-3"}),(0,i.jsx)("span",{className:"truncate font-mono opacity-80",children:l(e.url)})]})]}),(0,i.jsxs)("div",{className:"mt-4 flex items-center justify-between border-t border-white/5 pt-3 opacity-60 group-hover:opacity-100 transition-opacity",children:[(0,i.jsx)("span",{className:"text-xs text-zinc-600 font-mono",children:r(e.created_at)}),(0,i.jsx)(g.P.button,{whileHover:{scale:1.1,color:"#ef4444"},whileTap:{scale:.95},onClick:t=>{t.stopPropagation(),n(e.id)},className:"text-zinc-500 hover:text-red-400 transition-colors p-1.5 rounded-md hover:bg-red-500/10",title:"Delete Bookmark",children:(0,i.jsx)(k.A,{className:"w-3.5 h-3.5"})})]})]},e.id))})})},E=e=>{let{onAdd:t,onCancel:n}=e,[l,s]=(0,a.useState)(""),[r,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(!1);return(0,i.jsx)(g.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md",children:(0,i.jsxs)(g.P.div,{initial:{scale:.9,y:20,opacity:0},animate:{scale:1,y:0,opacity:1},exit:{scale:.95,y:10,opacity:0},transition:{type:"spring",stiffness:350,damping:25},className:"w-full max-w-md bg-[#0a0a0a] border border-zinc-800 rounded-2xl p-8 shadow-2xl relative overflow-hidden",children:[(0,i.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-zinc-800 via-white to-zinc-800 opacity-20"}),(0,i.jsx)("button",{onClick:n,className:"absolute top-4 right-4 text-zinc-600 hover:text-white transition-colors p-2 hover:bg-zinc-900 rounded-full",children:(0,i.jsx)(h.A,{className:"w-4 h-4"})}),(0,i.jsx)("h2",{className:"text-lg font-medium text-white mb-1",children:"Add Bookmark"}),(0,i.jsx)("p",{className:"text-zinc-500 text-xs mb-8",children:"Save a new URL to your collection."}),(0,i.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!l.trim()||!r.trim())return;d(!0);let n=r.trim();/^https?:\/\//i.test(n)||(n="https://"+n),setTimeout(()=>{t(l.trim(),n),d(!1)},400)},className:"space-y-6",children:[(0,i.jsxs)("div",{className:"space-y-2 group",children:[(0,i.jsx)("label",{className:"text-[10px] uppercase tracking-wider text-zinc-500 font-semibold ml-1 group-focus-within:text-white transition-colors",children:"URL"}),(0,i.jsx)("input",{type:"text",value:r,onChange:e=>o(e.target.value),placeholder:"example.com",className:"w-full bg-zinc-900/50 border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white placeholder-zinc-700 focus:outline-none focus:border-zinc-600 focus:ring-1 focus:ring-zinc-600 transition-all",autoFocus:!0})]}),(0,i.jsxs)("div",{className:"space-y-2 group",children:[(0,i.jsx)("label",{className:"text-[10px] uppercase tracking-wider text-zinc-500 font-semibold ml-1 group-focus-within:text-white transition-colors",children:"Title"}),(0,i.jsx)("input",{type:"text",value:l,onChange:e=>s(e.target.value),placeholder:"Site Name",className:"w-full bg-zinc-900/50 border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white placeholder-zinc-700 focus:outline-none focus:border-zinc-600 focus:ring-1 focus:ring-zinc-600 transition-all"})]}),(0,i.jsxs)("div",{className:"pt-2 flex justify-end gap-3",children:[(0,i.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 text-xs font-medium text-zinc-400 hover:text-white transition-colors hover:bg-zinc-900 rounded-lg",children:"Cancel"}),(0,i.jsxs)("button",{type:"submit",disabled:c,className:"px-6 py-2 text-xs font-medium text-black bg-white rounded-lg hover:bg-zinc-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[c&&(0,i.jsx)(u.A,{className:"w-3 h-3 animate-spin"}),"Save Item"]})]})]})]})})};var U=n(2591),I=n(6958),_=n(8639),R=n(4683);let G=e=>{let{user:t}=e,[n,l]=(0,a.useState)([]),[s,r]=(0,a.useState)(!1),[o,c]=(0,a.useState)("grid"),[d,m]=(0,a.useState)(""),[x,u]=(0,a.useState)(!0),h=(0,a.useCallback)(async()=>{try{let{data:e,error:t}=await b.from("bookmarks").select("*").order("created_at",{ascending:!1});if(t)throw t;l(e||[])}catch(e){console.error("Error fetching bookmarks:",e)}finally{u(!1)}},[]);(0,a.useEffect)(()=>{h();let e=b.channel("realtime bookmarks").on("postgres_changes",{event:"*",schema:"public",table:"bookmarks",filter:"user_id=eq.".concat(t.id)},e=>{"INSERT"===e.eventType&&e.new&&e.new.user_id===t.id?l(t=>t.some(t=>t.id===e.new.id)?t:[e.new,...t]):h()}).subscribe();return()=>{b.removeChannel(e)}},[h,t.id]);let f=async(e,n)=>{try{let{data:i,error:a}=await b.from("bookmarks").insert([{title:e,url:n,user_id:t.id}]).select();if(a)throw a;i&&l(e=>[i[0],...e]),r(!1)}catch(e){console.error("Error adding bookmark:",e),alert("Failed to add bookmark")}},p=async e=>{let t=[...n];l(t=>t.filter(t=>t.id!==e));try{let{error:t}=await b.from("bookmarks").delete().eq("id",e);if(t)throw t}catch(e){console.error("Error deleting bookmark:",e),l(t),alert("Failed to delete bookmark")}},v=n.filter(e=>e.title.toLowerCase().includes(d.toLowerCase())||e.url.toLowerCase().includes(d.toLowerCase()));return(0,i.jsxs)(g.P.div,{initial:{opacity:0},animate:{opacity:1},className:"px-4 py-6 md:px-12 md:py-10 w-full max-w-[1920px] mx-auto min-h-screen flex flex-col",children:[(0,i.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-8 md:mb-12",children:[(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsx)(g.P.h1,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},className:"text-2xl font-semibold tracking-tight text-white",children:"Collections"}),(0,i.jsx)(g.P.p,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.1},className:"text-zinc-500 text-sm",children:x?"Syncing...":"".concat(n.length," saved items")})]}),(0,i.jsxs)("div",{className:"flex flex-col-reverse sm:flex-row items-stretch sm:items-center gap-4 w-full md:w-auto",children:[(0,i.jsxs)("div",{className:"relative group flex-grow md:flex-grow-0 md:w-72",children:[(0,i.jsx)(U.A,{className:"absolute left-0 top-1/2 -translate-y-1/2 text-zinc-600 w-4 h-4 group-focus-within:text-white transition-colors"}),(0,i.jsx)("input",{type:"text",placeholder:"Search collections...",value:d,onChange:e=>m(e.target.value),className:"w-full bg-transparent border-b border-zinc-800 text-sm py-2 pl-8 text-white focus:outline-none focus:border-zinc-500 transition-colors placeholder-zinc-700"})]}),(0,i.jsx)("div",{className:"h-6 w-px bg-zinc-800 mx-2 hidden md:block"}),(0,i.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-1 bg-zinc-900/50 p-1 rounded-lg border border-zinc-800",children:[(0,i.jsx)("button",{onClick:()=>c("grid"),className:"p-2 rounded-md transition-all ".concat("grid"===o?"bg-zinc-800 text-white shadow-sm":"text-zinc-600 hover:text-zinc-400"),children:(0,i.jsx)(I.A,{className:"w-4 h-4"})}),(0,i.jsx)("button",{onClick:()=>c("list"),className:"p-2 rounded-md transition-all ".concat("list"===o?"bg-zinc-800 text-white shadow-sm":"text-zinc-600 hover:text-zinc-400"),children:(0,i.jsx)(_.A,{className:"w-4 h-4"})})]}),(0,i.jsxs)(g.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(!0),className:"flex items-center gap-2 bg-white text-black px-4 py-2 rounded-lg font-semibold text-sm hover:bg-zinc-200 transition-colors shadow-[0_0_20px_rgba(255,255,255,0.15)] flex-grow sm:flex-grow-0 justify-center",children:[(0,i.jsx)(R.A,{className:"w-4 h-4"}),(0,i.jsx)("span",{children:"New"})]})]})]})]}),(0,i.jsxs)("div",{className:"flex-1 relative",children:[(0,i.jsx)(w.N,{children:s&&(0,i.jsx)(E,{onAdd:f,onCancel:()=>r(!1)})}),x?(0,i.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6",children:[1,2,3,4].map(e=>(0,i.jsx)("div",{className:"w-full h-44 bg-zinc-900/30 rounded-xl animate-pulse border border-zinc-800/50"},e))}):(0,i.jsx)(A,{bookmarks:v,onDelete:p,viewMode:o})]})]})};function O(){let[e,t]=(0,a.useState)(null),[n,l]=(0,a.useState)(!0);(0,a.useEffect)(()=>{b.auth.getSession().then(e=>{let{data:{session:n}}=e;if(null==n?void 0:n.user){var i;t({id:n.user.id,name:n.user.user_metadata.full_name||(null===(i=n.user.email)||void 0===i?void 0:i.split("@")[0])||"User",email:n.user.email||"",avatar:n.user.user_metadata.avatar_url||"https://i.pravatar.cc/150?u=".concat(n.user.id)})}l(!1)});let{data:{subscription:e}}=b.auth.onAuthStateChange((e,n)=>{if(null==n?void 0:n.user){var i;t({id:n.user.id,name:n.user.user_metadata.full_name||(null===(i=n.user.email)||void 0===i?void 0:i.split("@")[0])||"User",email:n.user.email||"",avatar:n.user.user_metadata.avatar_url||"https://i.pravatar.cc/150?u=".concat(n.user.id)})}else t(null);l(!1)});return()=>e.unsubscribe()},[]);let s=async()=>{await b.auth.signOut(),t(null)};return n?(0,i.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-black text-white",children:(0,i.jsx)("div",{className:"animate-pulse w-2 h-2 bg-white rounded-full"})}):e?(0,i.jsxs)("div",{className:"min-h-screen bg-black text-white flex",children:[(0,i.jsx)(c,{user:e,onLogout:s}),(0,i.jsx)("main",{className:"flex-grow min-h-screen relative md:pl-20 pt-16 pb-20 md:pt-0 md:pb-0 transition-all duration-300",children:(0,i.jsx)(G,{user:e})})]}):(0,i.jsx)("div",{className:"min-h-screen bg-black text-white",children:(0,i.jsx)(z,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[367,831,833,441,517,358],()=>t(2453)),_N_E=e.O()}]);